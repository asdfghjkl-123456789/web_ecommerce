
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Amazon Style Shop</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f2f2f2;
    }

    header {
      background-color: #333;
      padding: 15px 20px;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .main-nav {
      display: flex;
      gap: 25px;
    }

    .auth-links {
      display: flex;
      gap: 15px;
    }

    .main-nav a,
    .auth-links a {
      color: white;
      text-decoration: none;
      font-size: 1.1rem;
      padding: 8px 15px;
      transition: background-color 0.3s;
      border-radius: 5px;
    }

    .main-nav a:hover,
    .auth-links a:hover {
      background-color: #555;
    }

    .container {
      max-width: 900px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
    }

    .hidden {
      display: none;
    }

    input, button {
      display: block;
      margin: 10px 0;
      padding: 10px;
      width: 100%;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
    }

    .product-card {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 0 5px rgba(0,0,0,0.05);
    }

    .product-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
    }

    .product-card h3 {
      margin: 10px 0 5px;
    }

    .product-card ul {
      padding-left: 20px;
    }

    .product-card button {
      background: #28a745;
      color: white;
      margin-top: 10px;
    }

    .filter-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .filter-bar input,
    .filter-bar select {
      padding: 10px;
      width: 48%;
    }

    .rating {
      color: gold;
      font-size: 1.2rem;
    }

    .review {
      font-style: italic;
      color: #555;
      margin-top: 5px;
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="header-container">
      <nav class="main-nav">
        <a href="#shopSection" onclick="navigate('shop')">Shop</a>
        <a href="#productGrid" onclick="navigate('shop')">Products</a>
        <a href="#adminSection" onclick="navigate('admin')">Admin Dashboard</a>
        <a href="#cartSection" onclick="showCart()">View Cart</a>
      </nav>
      <div class="auth-links" id="userActions">
        <a href="#loginPage" onclick="navigate('login')">Login</a>
        <a href="#signupPage" onclick="navigate('signup')">Signup</a>
      </div>
      <div class="auth-links hidden" id="logoutBtn">
        <a href="#" onclick="logout()">Logout</a>
      </div>
    </div>
  </header>

  <!-- Sections -->
  <div class="container" id="loginSection">
    <h2>Login</h2>
    <input type="text" id="loginUsername" placeholder="Username">
    <button onclick="login()">Login</button>
  </div>

  <div class="container hidden" id="signupSection">
    <h2>Signup</h2>
    <input type="text" id="signupUsername" placeholder="Username">
    <button onclick="signup()">Signup</button>
  </div>

  <div class="filter-bar">
    <input type="text" id="searchInput" placeholder="Search products..." onkeyup="renderProducts()">
    <select id="categoryFilter" onchange="renderProducts()">
      <option value="">All Categories</option>
      <option value="Accessories">Accessories</option>
      <option value="Audio">Audio</option>
      <option value="Gaming">Gaming</option>
    </select>
  </div>

  <div class="container hidden" id="shopSection">
    <h2>Shop Products</h2>
    <div id="productGrid" class="product-grid"></div>
  </div>

  <div class="container hidden" id="cartSection">
    <h2>Your Cart</h2>
    <ul id="cartItems"></ul>
    <button onclick="checkout()">Checkout</button>
  </div>

  <div class="container hidden" id="adminSection">
    <h2>Admin Dashboard</h2>
    <input type="text" id="prodName" placeholder="Product name">
    <input type="number" id="prodPrice" placeholder="Product price">
    <input type="text" id="prodFeatures" placeholder="Comma-separated features">
    <input type="text" id="prodImage" placeholder="Image URL">
    <button onclick="addProduct()">Add Product</button>
  </div>

  <script>
     let users = JSON.parse(localStorage.getItem('users')) || [];
let currentUser = localStorage.getItem('currentUser');
let products = JSON.parse(localStorage.getItem('products')) || [
  {
    id: 1,
    name: "Wireless Mouse",
    price: 25,
    features: ["Ergonomic", "2.4GHz", "Battery Included"],
    category: "Accessories",
    rating: 4.5,
    reviews: ["Great value!", "Very smooth!"],
    image: "https://m.media-amazon.com/images/I/61LtuGzXeaL._AC_SL1500_.jpg"
  },
  {
    id: 2,
    name: "Bluetooth Headphones",
    price: 60,
    features: ["Noise Cancelling", "Over-Ear", "20hr Battery"],
    category: "Audio",
    rating: 4.2,
    reviews: ["Sound is amazing!", "Best for the price."],
    image: "https://m.media-amazon.com/images/I/71RdoeYObNL._AC_SL1500_.jpg"
  },
  {
    id: 3,
    name: "Gaming Keyboard",
    price: 45,
    features: ["RGB Backlight", "Mechanical", "USB Wired"],
    category: "Gaming",
    rating: 4.7,
    reviews: ["Perfect for gaming!", "Keys feel great."],
    image: "https://m.media-amazon.com/images/I/71c5zG9uVWL._AC_SL1500_.jpg"
  }
];

let cart = JSON.parse(localStorage.getItem('cart')) || [];

window.onload = () => {
  if (currentUser) {
    document.getElementById("userActions").classList.add("hidden");
    document.getElementById("logoutBtn").classList.remove("hidden");
    navigate('shop');
  } else {
    navigate('login');
  }
  renderProducts();
};

function saveAll() {
  localStorage.setItem("users", JSON.stringify(users));
  localStorage.setItem("products", JSON.stringify(products));
  localStorage.setItem("cart", JSON.stringify(cart));
  if (currentUser) localStorage.setItem("currentUser", currentUser);
}

function navigate(section) {
  document.querySelectorAll(".container").forEach(div => div.classList.add("hidden"));
  document.getElementById(section + "Section").classList.remove("hidden");
}

function signup() {
  const username = document.getElementById("signupUsername").value.trim();
  if (!users.includes(username)) {
    users.push(username);
    saveAll();
    alert("Signup successful. Please login.");
    navigate("login");
  } else {
    alert("User already exists.");
  }
}

function login() {
  const username = document.getElementById("loginUsername").value.trim();
  if (users.includes(username)) {
    currentUser = username;
    document.getElementById("userActions").classList.add("hidden");
    document.getElementById("logoutBtn").classList.remove("hidden");
    saveAll();
    navigate("shop");
  } else {
    alert("User not found. Please signup.");
  }
}

function logout() {
  currentUser = null;
  localStorage.removeItem("currentUser");
  document.getElementById("userActions").classList.remove("hidden");
  document.getElementById("logoutBtn").classList.add("hidden");
  navigate("login");
}

function renderProducts() {
  const search = document.getElementById("searchInput")?.value.toLowerCase() || "";
  const category = document.getElementById("categoryFilter")?.value || "";
  const grid = document.getElementById("productGrid");
  grid.innerHTML = "";

  const filtered = products.filter(p => {
    return (
      p.name.toLowerCase().includes(search) &&
      (category === "" || p.category === category)
    );
  });

  filtered.forEach(p => {
    const card = document.createElement("div");
    card.className = "product-card";

    const ratingStars = "★".repeat(Math.round(p.rating)) + "☆".repeat(5 - Math.round(p.rating));
    const reviewsHTML = p.reviews.map(r => `<div class="review">"${r}"</div>`).join("");

    card.innerHTML = `
      <img src="${p.image}" alt="${p.name}">
      <h3>${p.name}</h3>
      <p><strong>$${p.price}</strong></p>
      <p class="rating">${ratingStars} (${p.rating.toFixed(1)})</p>
      <ul>${p.features.map(f => `<li>${f}</li>`).join('')}</ul>
      ${reviewsHTML}
      <button onclick="addToCart(${p.id})">Add to Cart</button>
    `;
    grid.appendChild(card);
  });
}


function addToCart(id) {
  const product = products.find(p => p.id === id);
  cart.push(product);
  saveAll();
  alert(`${product.name} added to cart`);
}

function checkout() {
  if (cart.length === 0) {
    alert("Your cart is empty.");
    return;
  }
  alert("Order placed successfully!");
  cart = [];
  saveAll();
  document.getElementById("cartItems").innerHTML = "";
}

function showCart() {
  navigate("cart");
  const cartList = document.getElementById("cartItems");
  cartList.innerHTML = "";
  cart.forEach((item, i) => {
    const li = document.createElement("li");
    li.innerHTML = `${item.name} - $${item.price} <button onclick="removeCartItem(${i})">Remove</button>`;
    cartList.appendChild(li);
  });
}

function removeCartItem(index) {
  cart.splice(index, 1);
  saveAll();
  showCart();
}

function addProduct() {
  const name = document.getElementById("prodName").value;
  const price = parseFloat(document.getElementById("prodPrice").value);
  const features = document.getElementById("prodFeatures").value.split(",").map(f => f.trim());
  const image = document.getElementById("prodImage").value;
  const category = prompt("Enter category (Accessories, Audio, Gaming)");
  const rating = parseFloat(prompt("Initial rating (1-5)"));
  const reviews = [];

  if (name && price && features.length && image && category && rating) {
    products.push({
      id: products.length + 1,
      name, price, features, image, category, rating, reviews
    });
    saveAll();
    alert("Product added!");
    renderProducts();
    document.getElementById("prodName").value = "";
    document.getElementById("prodPrice").value = "";
    document.getElementById("prodFeatures").value = "";
    document.getElementById("prodImage").value = "";
  } else {
    alert("Please fill all product fields.");
  }
}

  </script>

</body>
</html>